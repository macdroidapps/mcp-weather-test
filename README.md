# üå§Ô∏è MCP Weather Server + Next.js Chat

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã —á–µ—Ä–µ–∑ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –í–∫–ª—é—á–∞–µ—Ç MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ TypeScript –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞ –Ω–∞ Next.js.

## üîó MCP Tool Chain (NEW!)

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏–∑ —Ç—Ä—ë—Ö MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≥–µ–Ω—Ç–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         MCP TOOL CHAIN                                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ   User: "–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –†–∏–≥–µ –∏ —á—Ç–æ –º–Ω–µ –Ω–∞–¥–µ—Ç—å?"                            ‚îÇ
‚îÇ                           ‚îÇ                                                 ‚îÇ
‚îÇ                           ‚ñº                                                 ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ   ‚îÇ                    Claude AI (Orchestrator)                          ‚îÇ  ‚îÇ
‚îÇ   ‚îÇ         –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤               ‚îÇ  ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                               ‚îÇ                                             ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ   ‚îÇ                           ‚ñº                                          ‚îÇ  ‚îÇ
‚îÇ   ‚îÇ   1Ô∏è‚É£  get_weather ‚îÄ‚îÄ‚ñ∫ 2Ô∏è‚É£  analyze_weather ‚îÄ‚îÄ‚ñ∫ 3Ô∏è‚É£  save_weather_report ‚îÇ  ‚îÇ
‚îÇ   ‚îÇ      (–Ø–Ω–¥–µ–∫—Å API)        (–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)          (–§–∞–π–ª –æ—Ç—á—ë—Ç–∞)       ‚îÇ  ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                               ‚îÇ                                             ‚îÇ
‚îÇ                               ‚ñº                                             ‚îÇ
‚îÇ   Response: "–í –†–∏–≥–µ -2¬∞C. –†–µ–∫–æ–º–µ–Ω–¥—É—é –∑–∏–º–Ω—é—é –∫—É—Ä—Ç–∫—É. [–°–∫–∞—á–∞—Ç—å –æ—Ç—á—ë—Ç]"       ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢—Ä–∏ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | –í—ã—Ö–æ–¥ |
|------------|----------|-------------------|-------|
| `get_weather` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã –∏–∑ –Ø–Ω–¥–µ–∫—Å API | `city` | —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —É—Å–ª–æ–≤–∏—è, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ |
| `analyze_weather` | –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ | `weather_data`, `analysis_type` | —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–¥–µ–∂–¥–µ/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º/–∑–¥–æ—Ä–æ–≤—å—é |
| `save_weather_report` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ | `city`, `weather_data`, `analysis`, `format` | –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É, URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è |

### –¢–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞

- **clothing** ‚Äî —á—Ç–æ –Ω–∞–¥–µ—Ç—å (–∫—É—Ä—Ç–∫–∞, —à–∞–ø–∫–∞, –∑–æ–Ω—Ç –∏ —Ç.–¥.)
- **activity** ‚Äî –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–±–µ–∂–∫–∞, –≤–µ–ª–æ—Å–∏–ø–µ–¥, –ø–∏–∫–Ω–∏–∫)
- **health** ‚Äî –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ (–¥–∞–≤–ª–µ–Ω–∏–µ, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫–∏)

### –§–æ—Ä–º–∞—Ç—ã –æ—Ç—á—ë—Ç–æ–≤

- **md** ‚Äî Markdown —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ —ç–º–æ–¥–∑–∏
- **txt** ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
- **json** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              –ê–†–•–ò–¢–ï–ö–¢–£–†–ê                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ  –í–ê–†–ò–ê–ù–¢ A: Claude Desktop + MCP (stdio)                                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ  Claude Desktop ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   MCP Server    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  –Ø–Ω–¥–µ–∫—Å Weather API    ‚îÇ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (stdio)       ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                        ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ  –í–ê–†–ò–ê–ù–¢ B: Web Interface + MCP Tool Chain                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ     Browser     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ    Next.js      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Claude API           ‚îÇ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (tool_use)    ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (Orchestrator)       ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                   ‚îÇ                                          ‚îÇ
‚îÇ                                   ‚ñº                                          ‚îÇ
‚îÇ                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ                          ‚îÇ  MCP Server     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  –Ø–Ω–¥–µ–∫—Å Weather API    ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  (HTTP :3001)   ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  + File System         ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  3 MCP Tools    ‚îÇ     ‚îÇ                        ‚îÇ‚îÇ
‚îÇ                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Claude –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mcp-server/
‚îú‚îÄ‚îÄ src/                          # MCP Server (TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ server.ts                 # MCP —Å–µ—Ä–≤–µ—Ä (stdio –¥–ª—è Claude Desktop)
‚îÇ   ‚îú‚îÄ‚îÄ server-http.ts            # MCP —Å–µ—Ä–≤–µ—Ä (HTTP) —Å 3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ weather-service.ts        # –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç—ã —Å Yandex API
‚îÇ   ‚îú‚îÄ‚îÄ tools/                    # MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ weather-analyzer.ts   # –ê–Ω–∞–ª–∏–∑ –ø–æ–≥–æ–¥—ã (clothing/activity/health)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ report-saver.ts       # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ (txt/json/md)
‚îÇ   ‚îú‚îÄ‚îÄ cities.ts                 # –ë–∞–∑–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥–æ—Ä–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cache.ts                  # In-memory –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ logger.ts                 # –õ–æ–≥–≥–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ types.ts                  # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ weather-chat/                 # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/                      # App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/chat/             # API —á–∞—Ç–∞ —Å Claude (tool_use)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/weather/          # API –ø–æ–≥–æ–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/analyze/          # API –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/save-report/      # API —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á—ë—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/tool-chain/       # API –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tools/page.tsx        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ Tool Chain UI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Chat.tsx              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WeatherToolChain.tsx  # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ lib/mcp-client.ts         # –ö–ª–∏–µ–Ω—Ç –¥–ª—è MCP HTTP —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ types/weather.ts          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ public/reports/           # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤
‚îú‚îÄ‚îÄ nginx/                        # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/                      # –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ ecosystem.config.cjs          # PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ claude_desktop_config.json    # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è Claude Desktop
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–±–æ—Ä–∫–∞ TypeScript
npm run build

# –°–æ–∑–¥–∞–Ω–∏–µ .env.local —Ñ–∞–π–ª–∞
cp .env.local.example .env.local
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env.local –∏ –¥–æ–±–∞–≤—å—Ç–µ YANDEX_WEATHER_API_KEY
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd weather-chat

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env.local.local
cat > .env.local.local << EOF
YANDEX_WEATHER_API_KEY=–≤–∞—à-–∫–ª—é—á-—è–Ω–¥–µ–∫—Å
ANTHROPIC_API_KEY=–≤–∞—à-–∫–ª—é—á-anthropic
EOF

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

#### –Ø–Ω–¥–µ–∫—Å Weather API
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developer.tech.yandex.ru/
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –í–∫–ª—é—á–∏—Ç–µ API "–Ø–Ω–¥–µ–∫—Å –ü–æ–≥–æ–¥–∞"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

#### Anthropic API
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.anthropic.com/
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç A: Claude Desktop + MCP Server

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Claude Desktop:

1. –°–æ–±–µ—Ä–∏—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä:
```bash
npm run build
```

2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Claude Desktop:
   - macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
   - Windows: `%APPDATA%\Claude\claude_desktop_config.json`

3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```json
{
  "mcpServers": {
    "weather": {
      "command": "node",
      "args": ["/–ø–æ–ª–Ω—ã–π/–ø—É—Ç—å/–∫/mcp-server/dist/server.js"],
      "env": {
        "YANDEX_WEATHER_API_KEY": "–≤–∞—à-api-–∫–ª—é—á",
        "LOG_LEVEL": "info",
        "CACHE_TTL": "300"
      }
    }
  }
}
```

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Desktop

5. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å: *"–ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –†–∏–≥–µ?"*

### –í–∞—Ä–∏–∞–Ω—Ç B: Next.js Web Interface

–î–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å —á–∞—Ç–æ–º (—á–µ—Ä–µ–∑ MCP HTTP —Å–µ—Ä–≤–µ—Ä):

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `weather-chat/.env.local`:
```env
YANDEX_WEATHER_API_KEY=–≤–∞—à-–∫–ª—é—á
ANTHROPIC_API_KEY=–≤–∞—à-–∫–ª—é—á
MCP_SERVER_URL=http://127.0.0.1:3001
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ MCP HTTP —Å–µ—Ä–≤–µ—Ä:
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
npm run build
npm run start:http
# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: npm run dev:http
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Next.js (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
```bash
cd weather-chat
npm run dev
```

4. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

**–í–∞–∂–Ω–æ:** MCP HTTP —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001!

## üñ•Ô∏è –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Ubuntu 20.04+ / Debian 11+
- Node.js 18+
- Nginx
- PM2

### –®–∞–≥–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
sudo npm install -g pm2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
sudo apt install -y nginx
```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/your-repo/mcp-server.git /var/www/mcp-server
cd /var/www/mcp-server

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞
sudo chown -R $USER:$USER /var/www/mcp-server
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# MCP Server
cat > .env.local << EOF
YANDEX_WEATHER_API_KEY=–≤–∞—à-–∫–ª—é—á
LOG_LEVEL=info
CACHE_TTL=300
EOF

# Next.js
cat > weather-chat/.env.local.local << EOF
YANDEX_WEATHER_API_KEY=–≤–∞—à-–∫–ª—é—á
ANTHROPIC_API_KEY=–≤–∞—à-–∫–ª—é—á
EOF
```

4. **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:**
```bash
chmod +x scripts/deploy.sh
./scripts/deploy.sh deploy
```

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx:**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo cp nginx/weather-chat.conf /etc/nginx/sites-available/weather-chat

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –¥–æ–º–µ–Ω
sudo nano /etc/nginx/sites-available/weather-chat

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º
sudo ln -s /etc/nginx/sites-available/weather-chat /etc/nginx/sites-enabled/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º
sudo nginx -t
sudo systemctl reload nginx
```

6. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt):**
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d weather.yourdomain.com
```

### PM2 –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å
pm2 status

# –õ–æ–≥–∏
pm2 logs weather-chat

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart weather-chat

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop weather-chat

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –°–±–æ—Ä–∫–∞
npm run build

# –¢–µ—Å—Ç —á–µ—Ä–µ–∑ echo (stdin)
echo '{"jsonrpc":"2.0","id":1,"method":"tools/list"}' | YANDEX_WEATHER_API_KEY=–≤–∞—à-–∫–ª—é—á node dist/server.js
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –ø–æ–≥–æ–¥—ã

```bash
# GET –∑–∞–ø—Ä–æ—Å
curl "http://localhost:3000/api/weather?city=–†–∏–≥–∞"

# POST –∑–∞–ø—Ä–æ—Å
curl -X POST http://localhost:3000/api/weather \
  -H "Content-Type: application/json" \
  -d '{"city": "–ú–æ—Å–∫–≤–∞"}'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞

```bash
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "–ö–∞–∫–∞—è —Å–µ–π—á–∞—Å –ø–æ–≥–æ–¥–∞ –≤ –†–∏–≥–µ?"}'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MCP Tool Chain (curl)

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É (MCP Server)
curl -X POST http://localhost:3001/api/weather \
  -H "Content-Type: application/json" \
  -d '{"city": "–†–∏–≥–∞"}'

# 2. –ê–Ω–∞–ª–∏–∑ –ø–æ–≥–æ–¥—ã (—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —à–∞–≥–∞ 1)
curl -X POST http://localhost:3001/api/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "weather_data": {
      "temperature": -2,
      "condition": "–æ–±–ª–∞—á–Ω–æ",
      "humidity": 87,
      "pressure": 760,
      "city": "–†–∏–≥–∞",
      "feels_like": -6,
      "wind_speed": 4
    },
    "analysis_type": "clothing"
  }'

# 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç
curl -X POST http://localhost:3001/api/save-report \
  -H "Content-Type: application/json" \
  -d '{
    "city": "–†–∏–≥–∞",
    "weather_data": {"temperature": -2, "condition": "–æ–±–ª–∞—á–Ω–æ", "humidity": 87, "pressure": 760, "city": "–†–∏–≥–∞"},
    "analysis": {"type": "clothing", "city": "–†–∏–≥–∞", "temperature": -2, "condition": "–æ–±–ª–∞—á–Ω–æ", "summary": "–¢–µ—Å—Ç", "timestamp": "2024-12-18T12:00:00Z"},
    "format": "md"
  }'

# 4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É (Next.js)
curl -X POST http://localhost:3000/api/tool-chain \
  -H "Content-Type: application/json" \
  -d '{"city": "–†–∏–≥–∞", "analysis_type": "clothing", "format": "md"}'
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –ø–æ–≥–æ–¥—ã

```json
{
  "success": true,
  "data": {
    "temperature": -2,
    "condition": "–æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏",
    "humidity": 87,
    "pressure": 760,
    "city": "–†–∏–≥–∞",
    "feels_like": -6,
    "wind_speed": 4
  }
}
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –∞–Ω–∞–ª–∏–∑–∞

```json
{
  "success": true,
  "data": {
    "type": "clothing",
    "city": "–†–∏–≥–∞",
    "temperature": -2,
    "condition": "–æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏",
    "summary": "–í –†–∏–≥–∞ —Å–µ–π—á–∞—Å -2¬∞C, –æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏. ‚ùÑÔ∏è –ú–æ—Ä–æ–∑–Ω–æ. –ù—É–∂–Ω–∞ —Ç—ë–ø–ª–∞—è –∑–∏–º–Ω—è—è –æ–¥–µ–∂–¥–∞",
    "clothing": {
      "main": "‚ùÑÔ∏è –ú–æ—Ä–æ–∑–Ω–æ. –ù—É–∂–Ω–∞ —Ç—ë–ø–ª–∞—è –∑–∏–º–Ω—è—è –æ–¥–µ–∂–¥–∞",
      "items": ["–ó–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞", "–¢—ë–ø–ª—ã–π —Å–≤–∏—Ç–µ—Ä", "–î–∂–∏–Ω—Å—ã/—Ç—ë–ø–ª—ã–µ —à—Ç–∞–Ω—ã", "–®–∞–ø–∫–∞", "–®–∞—Ä—Ñ", "–ü–µ—Ä—á–∞—Ç–∫–∏", "–ó–∏–º–Ω—è—è –æ–±—É–≤—å"]
    },
    "timestamp": "2024-12-18T12:00:00.000Z"
  }
}
```

### –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞

```json
{
  "success": true,
  "data": {
    "file_path": "/reports/weather_riga_2024-12-18_14-30.md",
    "file_url": "/reports/weather_riga_2024-12-18_14-30.md",
    "file_name": "weather_riga_2024-12-18_14-30.md",
    "file_size": 1234,
    "format": "md",
    "timestamp": "2024-12-18T12:30:00.000Z"
  }
}
```

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤ —Å –∞–≥–µ–Ω—Ç–æ–º

### –ü—Ä–∏–º–µ—Ä 1: –ß—Ç–æ –Ω–∞–¥–µ—Ç—å

```
User: –ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞ –≤ –†–∏–≥–µ –∏ —á—Ç–æ –º–Ω–µ –Ω–∞–¥–µ—Ç—å?

Claude –≤—ã–∑—ã–≤–∞–µ—Ç:
1. get_weather({city: "–†–∏–≥–∞"})
   ‚Üí {temperature: -5, condition: "—Å–Ω–µ–≥", feels_like: -10, ...}

2. analyze_weather({weather_data: {...}, analysis_type: "clothing"})
   ‚Üí {main: "‚ùÑÔ∏è –ú–æ—Ä–æ–∑–Ω–æ. –ù—É–∂–Ω–∞ —Ç—ë–ø–ª–∞—è –∑–∏–º–Ω—è—è –æ–¥–µ–∂–¥–∞", items: [...]}

Response: 
üå®Ô∏è –í –†–∏–≥–µ —Å–µ–π—á–∞—Å -5¬∞C, –∏–¥—ë—Ç —Å–Ω–µ–≥. –û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ -10¬∞C.

üëî –†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞–¥–µ—Ç—å:
‚Ä¢ –ó–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞ –∏–ª–∏ –ø—É—Ö–æ–≤–∏–∫
‚Ä¢ –¢—ë–ø–ª—ã–π —Å–≤–∏—Ç–µ—Ä
‚Ä¢ –®–∞–ø–∫–∞ –∏ –ø–µ—Ä—á–∞—Ç–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
‚Ä¢ –ó–∏–º–Ω—è—è –æ–±—É–≤—å

‚ùÑÔ∏è –ù–∞ —É–ª–∏—Ü–µ —Å–Ω–µ–≥ - –≤—ã–±–∏—Ä–∞–π—Ç–µ –Ω–µ–ø—Ä–æ–º–æ–∫–∞–µ–º—É—é –æ–±—É–≤—å.
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–±–µ–∂–∫–∞

```
User: –ú–æ–∂–Ω–æ –ª–∏ —Å–µ–≥–æ–¥–Ω—è –±–µ–≥–∞—Ç—å –≤ –ú–æ—Å–∫–≤–µ?

Claude –≤—ã–∑—ã–≤–∞–µ—Ç:
1. get_weather({city: "–ú–æ—Å–∫–≤–∞"})
   ‚Üí {temperature: 5, condition: "—è—Å–Ω–æ", wind_speed: 3, ...}

2. analyze_weather({weather_data: {...}, analysis_type: "activity"})
   ‚Üí {suitable: ["üèÉ –ü—Ä–æ–±–µ–∂–∫–∞"], tips: [...]}

Response:
‚òÄÔ∏è –í –ú–æ—Å–∫–≤–µ 5¬∞C, —è—Å–Ω–æ. –û—Ç–ª–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –ø—Ä–æ–±–µ–∂–∫–∏!

üèÉ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚Ä¢ –ò–¥–µ–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥–ª—è –±–µ–≥–∞
‚Ä¢ –í–µ—Ç–µ—Ä —Å–ª–∞–±—ã–π (3 –º/—Å) ‚Äî –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç
‚Ä¢ –í–æ–∑—å–º–∏—Ç–µ –≤–µ—Ç—Ä–æ–≤–∫—É –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Å –æ—Ç—á—ë—Ç–æ–º

```
User: –°–¥–µ–ª–∞–π –æ—Ç—á—ë—Ç –æ –ø–æ–≥–æ–¥–µ –≤ –ü–∞—Ä–∏–∂–µ –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è

Claude –≤—ã–∑—ã–≤–∞–µ—Ç:
1. get_weather({city: "–ü–∞—Ä–∏–∂"})
   ‚Üí {temperature: 12, pressure: 745, humidity: 75, ...}

2. analyze_weather({weather_data: {...}, analysis_type: "health"})
   ‚Üí {risk_level: "medium", warnings: ["üìâ –ù–∏–∑–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ"], ...}

3. save_weather_report({city: "–ü–∞—Ä–∏–∂", ..., format: "md"})
   ‚Üí {file_url: "/reports/weather_parizh_2024-12-18.md", ...}

Response:
üå§Ô∏è –í –ü–∞—Ä–∏–∂–µ 12¬∞C. 

‚ù§Ô∏è –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ:
üü° –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞: —Å—Ä–µ–¥–Ω–∏–π

‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
‚Ä¢ üìâ –ù–∏–∑–∫–æ–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (745 –º–º) ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã –≥–æ–ª–æ–≤–Ω—ã–µ –±–æ–ª–∏

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
‚Ä¢ –ü–µ–π—Ç–µ –±–æ–ª—å—à–µ –≤–æ–¥—ã

üìÑ [–°–∫–∞—á–∞—Ç—å –ø–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç](/reports/weather_parizh_2024-12-18.md)
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ API –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É)
- ‚úÖ Rate limiting —á–µ—Ä–µ–∑ Nginx
- ‚úÖ HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Zod
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Claude

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–≥–æ–¥—ã

```typescript
interface WeatherResponse {
  temperature: number;    // ¬∞C
  condition: string;      // "—è—Å–Ω–æ", "–¥–æ–∂–¥—å", etc.
  humidity: number;       // %
  pressure: number;       // –º–º —Ä—Ç.—Å—Ç.
  city: string;          // –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
  feels_like?: number;   // –û—â—É—â–∞–µ–º–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
  wind_speed?: number;   // –º/—Å
  icon?: string;         // –ö–æ–¥ –∏–∫–æ–Ω–∫–∏
}
```

## üìÑ –ü—Ä–∏–º–µ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ (Markdown)

```markdown
# üå§Ô∏è –û—Ç—á—ë—Ç –æ –ø–æ–≥–æ–¥–µ: –†–∏–≥–∞

> –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 18.12.2024, 14:30:00

---

## üìä –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ | **-2¬∞C** |
| ü§í –û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ | -6¬∞C |
| ‚òÅÔ∏è –£—Å–ª–æ–≤–∏—è | –æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ |
| üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å | 87% |
| üìä –î–∞–≤–ª–µ–Ω–∏–µ | 760 –º–º —Ä—Ç.—Å—Ç. |
| üí® –í–µ—Ç–µ—Ä | 4 –º/—Å |

---

## üëî –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–¥–µ–∂–¥–µ

**–í –†–∏–≥–∞ —Å–µ–π—á–∞—Å -2¬∞C, –æ–±–ª–∞—á–Ω–æ —Å –ø—Ä–æ—è—Å–Ω–µ–Ω–∏—è–º–∏. ‚ùÑÔ∏è –ú–æ—Ä–æ–∑–Ω–æ. –ù—É–∂–Ω–∞ —Ç—ë–ø–ª–∞—è –∑–∏–º–Ω—è—è –æ–¥–µ–∂–¥–∞**

### üìã –ß—Ç–æ –Ω–∞–¥–µ—Ç—å

- –ó–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞
- –¢—ë–ø–ª—ã–π —Å–≤–∏—Ç–µ—Ä
- –î–∂–∏–Ω—Å—ã/—Ç—ë–ø–ª—ã–µ —à—Ç–∞–Ω—ã
- –®–∞–ø–∫–∞
- –®–∞—Ä—Ñ
- –ü–µ—Ä—á–∞—Ç–∫–∏
- –ó–∏–º–Ω—è—è –æ–±—É–≤—å

---

*–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: –Ø–Ω–¥–µ–∫—Å Weather API*

*–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ MCP Weather Server*
```

## üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≥–æ—Ä–æ–¥–∞

- **–†–æ—Å—Å–∏—è:** –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ö–∞–∑–∞–Ω—å, –°–æ—á–∏, –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫, +20 –≥–æ—Ä–æ–¥–æ–≤
- **–ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞:** –†–∏–≥–∞, –¢–∞–ª–ª–∏–Ω, –í–∏–ª—å–Ω—é—Å
- **–°–ù–ì:** –ú–∏–Ω—Å–∫, –ö–∏–µ–≤, –ê–ª–º–∞—Ç—ã, –ê—Å—Ç–∞–Ω–∞
- **–ï–≤—Ä–æ–ø–∞:** –ë–µ—Ä–ª–∏–Ω, –ü–∞—Ä–∏–∂, –õ–æ–Ω–¥–æ–Ω, –ê–º—Å—Ç–µ—Ä–¥–∞–º, +15 –≥–æ—Ä–æ–¥–æ–≤
- **–ê–∑–∏—è:** –¢–æ–∫–∏–æ, –ü–µ–∫–∏–Ω, –°–∏–Ω–≥–∞–ø—É—Ä, –î—É–±–∞–π
- **–ê–º–µ—Ä–∏–∫–∞:** –ù—å—é-–ô–æ—Ä–∫, –õ–æ—Å-–ê–Ω–¥–∂–µ–ª–µ—Å, –¢–æ—Ä–æ–Ω—Ç–æ

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

ISC

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—É—Ü–∏—è

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.


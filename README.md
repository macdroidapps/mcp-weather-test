# ðŸŒ¤ï¸ MCP Weather Server + Next.js Chat

ÐŸÐ¾Ð»Ð½Ð¾Ñ†ÐµÐ½Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ñ‡ÐµÑ€ÐµÐ· AI-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð°. Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ MCP ÑÐµÑ€Ð²ÐµÑ€ Ð½Ð° TypeScript Ð¸ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ñ‡Ð°Ñ‚Ð° Ð½Ð° Next.js.

## ðŸ“ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð Ð                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Ð’ÐÐ Ð˜ÐÐÐ¢ A: Claude Desktop + MCP (stdio)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Claude Desktop â”‚â”€â”€â”€â”€â–¶â”‚   MCP Server    â”‚â”€â”€â”€â”€â–¶â”‚  Ð¯Ð½Ð´ÐµÐºÑ Weather API    â”‚â”‚
â”‚  â”‚                 â”‚â—€â”€â”€â”€â”€â”‚   (stdio)       â”‚â—€â”€â”€â”€â”€â”‚                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                              â”‚
â”‚  Ð’ÐÐ Ð˜ÐÐÐ¢ B: Web Interface Ñ‡ÐµÑ€ÐµÐ· MCP HTTP                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     Browser     â”‚â”€â”€â”€â”€â–¶â”‚    Next.js      â”‚â”€â”€â”€â”€â–¶â”‚   Claude API           â”‚â”‚
â”‚  â”‚                 â”‚â—€â”€â”€â”€â”€â”‚                 â”‚â—€â”€â”€â”€â”€â”‚                        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                   â”‚                                          â”‚
â”‚                                   â–¼                                          â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                          â”‚  MCP Server     â”‚â”€â”€â”€â”€â–¶â”‚  Ð¯Ð½Ð´ÐµÐºÑ Weather API    â”‚â”‚
â”‚                          â”‚  (HTTP :3001)   â”‚â—€â”€â”€â”€â”€â”‚                        â”‚â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ÐžÐ±Ð° Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ MCP ÑÐµÑ€Ð²ÐµÑ€** â€” ÐµÐ´Ð¸Ð½Ð°Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹!

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
mcp-server/
â”œâ”€â”€ src/                      # MCP Server (TypeScript)
â”‚   â”œâ”€â”€ server.ts             # MCP ÑÐµÑ€Ð²ÐµÑ€ (stdio Ð´Ð»Ñ Claude Desktop)
â”‚   â”œâ”€â”€ server-http.ts        # MCP ÑÐµÑ€Ð²ÐµÑ€ (HTTP Ð´Ð»Ñ Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹)
â”‚   â”œâ”€â”€ weather-service.ts    # Ð¡ÐµÑ€Ð²Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Yandex API
â”‚   â”œâ”€â”€ cities.ts             # Ð‘Ð°Ð·Ð° ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚ Ð³Ð¾Ñ€Ð¾Ð´Ð¾Ð²
â”‚   â”œâ”€â”€ cache.ts              # In-memory ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
â”‚   â”œâ”€â”€ logger.ts             # Ð›Ð¾Ð³Ð³ÐµÑ€
â”‚   â””â”€â”€ types.ts              # TypeScript Ñ‚Ð¸Ð¿Ñ‹
â”œâ”€â”€ weather-chat/             # Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
â”‚   â”œâ”€â”€ app/                  # App Router
â”‚   â”‚   â”œâ”€â”€ api/chat/         # API Ð´Ð»Ñ Ñ‡Ð°Ñ‚Ð° Ñ Claude
â”‚   â”‚   â”œâ”€â”€ api/weather/      # API Ð´Ð»Ñ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ (Ñ‡ÐµÑ€ÐµÐ· MCP)
â”‚   â”‚   â””â”€â”€ page.tsx          # Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°
â”‚   â”œâ”€â”€ components/           # React ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹
â”‚   â””â”€â”€ lib/mcp-client.ts     # ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ MCP HTTP ÑÐµÑ€Ð²ÐµÑ€Ð°
â”œâ”€â”€ nginx/                    # Nginx ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â”œâ”€â”€ scripts/                  # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ñ€Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
â”œâ”€â”€ ecosystem.config.cjs      # PM2 ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â””â”€â”€ claude_desktop_config.json # ÐšÐ¾Ð½Ñ„Ð¸Ð³ Ð´Ð»Ñ Claude Desktop
```

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° MCP ÑÐµÑ€Ð²ÐµÑ€Ð°

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
npm install

# Ð¡Ð±Ð¾Ñ€ÐºÐ° TypeScript
npm run build

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .env.local Ñ„Ð°Ð¹Ð»Ð°
cp .env.local.example .env.local
# ÐžÑ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ .env.local Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ YANDEX_WEATHER_API_KEY
```

### 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Next.js Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ

```bash
cd weather-chat

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
npm install

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .env.local.local
cat > .env.local.local << EOF
YANDEX_WEATHER_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡-ÑÐ½Ð´ÐµÐºÑ
ANTHROPIC_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡-anthropic
EOF

# Ð—Ð°Ð¿ÑƒÑÐº Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
npm run dev
```

### 3. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ API ÐºÐ»ÑŽÑ‡ÐµÐ¹

#### Ð¯Ð½Ð´ÐµÐºÑ Weather API
1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://developer.tech.yandex.ru/
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
3. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ API "Ð¯Ð½Ð´ÐµÐºÑ ÐŸÐ¾Ð³Ð¾Ð´Ð°"
4. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ»ÑŽÑ‡

#### Anthropic API
1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://console.anthropic.com/
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ API ÐºÐ»ÑŽÑ‡
3. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ»ÑŽÑ‡

## ðŸ”§ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ A: Claude Desktop + MCP Server

Ð”Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ Claude Desktop:

1. Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ MCP ÑÐµÑ€Ð²ÐµÑ€:
```bash
npm run build
```

2. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ Claude Desktop:
   - macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
   - Windows: `%APPDATA%\Claude\claude_desktop_config.json`

3. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:
```json
{
  "mcpServers": {
    "weather": {
      "command": "node",
      "args": ["/Ð¿Ð¾Ð»Ð½Ñ‹Ð¹/Ð¿ÑƒÑ‚ÑŒ/Ðº/mcp-server/dist/server.js"],
      "env": {
        "YANDEX_WEATHER_API_KEY": "Ð²Ð°Ñˆ-api-ÐºÐ»ÑŽÑ‡",
        "LOG_LEVEL": "info",
        "CACHE_TTL": "300"
      }
    }
  }
}
```

4. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Claude Desktop

5. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ñ‚ÑŒ: *"ÐšÐ°ÐºÐ°Ñ Ð¿Ð¾Ð³Ð¾Ð´Ð° Ð² Ð Ð¸Ð³Ðµ?"*

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ B: Next.js Web Interface

Ð”Ð»Ñ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° Ñ Ñ‡Ð°Ñ‚Ð¾Ð¼ (Ñ‡ÐµÑ€ÐµÐ· MCP HTTP ÑÐµÑ€Ð²ÐµÑ€):

1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð² `weather-chat/.env.local`:
```env
YANDEX_WEATHER_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡
ANTHROPIC_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡
MCP_SERVER_URL=http://127.0.0.1:3001
```

2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ MCP HTTP ÑÐµÑ€Ð²ÐµÑ€:
```bash
# Ð’ ÐºÐ¾Ñ€Ð½Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
npm run build
npm run start:http
# Ð¸Ð»Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸: npm run dev:http
```

3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Next.js (Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ):
```bash
cd weather-chat
npm run dev
```

4. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ http://localhost:3000

**Ð’Ð°Ð¶Ð½Ð¾:** MCP HTTP ÑÐµÑ€Ð²ÐµÑ€ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ 3001!

## ðŸ–¥ï¸ Ð Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° VPS

### Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
- Ubuntu 20.04+ / Debian 11+
- Node.js 18+
- Nginx
- PM2

### Ð¨Ð°Ð³Ð¸ Ñ€Ð°Ð·Ð²Ñ‘Ñ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ

1. **ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°:**
```bash
# ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹
sudo apt update && sudo apt upgrade -y

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Node.js 20
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° PM2
sudo npm install -g pm2

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Nginx
sudo apt install -y nginx
```

2. **ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°:**
```bash
# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚
git clone https://github.com/your-repo/mcp-server.git /var/www/mcp-server
cd /var/www/mcp-server

# ÐÐ°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð°
sudo chown -R $USER:$USER /var/www/mcp-server
```

3. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:**
```bash
# MCP Server
cat > .env.local << EOF
YANDEX_WEATHER_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡
LOG_LEVEL=info
CACHE_TTL=300
EOF

# Next.js
cat > weather-chat/.env.local.local << EOF
YANDEX_WEATHER_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡
ANTHROPIC_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡
EOF
```

4. **Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· ÑÐºÑ€Ð¸Ð¿Ñ‚:**
```bash
chmod +x scripts/deploy.sh
./scripts/deploy.sh deploy
```

5. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Nginx:**
```bash
# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
sudo cp nginx/weather-chat.conf /etc/nginx/sites-available/weather-chat

# Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð´Ð¾Ð¼ÐµÐ½
sudo nano /etc/nginx/sites-available/weather-chat

# ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÐ¼
sudo ln -s /etc/nginx/sites-available/weather-chat /etc/nginx/sites-enabled/

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼
sudo nginx -t
sudo systemctl reload nginx
```

6. **SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ (Let's Encrypt):**
```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d weather.yourdomain.com
```

### PM2 ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

```bash
# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ
pm2 status

# Ð›Ð¾Ð³Ð¸
pm2 logs weather-chat

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
pm2 restart weather-chat

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
pm2 stop weather-chat

# ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³
pm2 monit
```

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ MCP ÑÐµÑ€Ð²ÐµÑ€Ð°

```bash
# Ð¡Ð±Ð¾Ñ€ÐºÐ°
npm run build

# Ð¢ÐµÑÑ‚ Ñ‡ÐµÑ€ÐµÐ· echo (stdin)
echo '{"jsonrpc":"2.0","id":1,"method":"tools/list"}' | YANDEX_WEATHER_API_KEY=Ð²Ð°Ñˆ-ÐºÐ»ÑŽÑ‡ node dist/server.js
```

### Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ API Ð¿Ð¾Ð³Ð¾Ð´Ñ‹

```bash
# GET Ð·Ð°Ð¿Ñ€Ð¾Ñ
curl "http://localhost:3000/api/weather?city=Ð Ð¸Ð³Ð°"

# POST Ð·Ð°Ð¿Ñ€Ð¾Ñ
curl -X POST http://localhost:3000/api/weather \
  -H "Content-Type: application/json" \
  -d '{"city": "ÐœÐ¾ÑÐºÐ²Ð°"}'
```

### Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‡Ð°Ñ‚Ð°

```bash
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ÐšÐ°ÐºÐ°Ñ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¿Ð¾Ð³Ð¾Ð´Ð° Ð² Ð Ð¸Ð³Ðµ?"}'
```

### ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹

```json
{
  "success": true,
  "data": {
    "temperature": -2,
    "condition": "Ð¾Ð±Ð»Ð°Ñ‡Ð½Ð¾ Ñ Ð¿Ñ€Ð¾ÑÑÐ½ÐµÐ½Ð¸ÑÐ¼Ð¸",
    "humidity": 87,
    "pressure": 760,
    "city": "Ð Ð¸Ð³Ð°",
    "feels_like": -6,
    "wind_speed": 4
  }
}
```

## ðŸ”’ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

- âœ… API ÐºÐ»ÑŽÑ‡Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ (Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñƒ)
- âœ… Rate limiting Ñ‡ÐµÑ€ÐµÐ· Nginx
- âœ… HTTPS Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ
- âœ… Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ‡ÐµÑ€ÐµÐ· Zod
- âœ… Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±ÐµÐ· ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð²

## ðŸ“Š Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹

```typescript
interface WeatherResponse {
  temperature: number;    // Â°C
  condition: string;      // "ÑÑÐ½Ð¾", "Ð´Ð¾Ð¶Ð´ÑŒ", etc.
  humidity: number;       // %
  pressure: number;       // Ð¼Ð¼ Ñ€Ñ‚.ÑÑ‚.
  city: string;          // ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³Ð¾Ñ€Ð¾Ð´Ð°
  feels_like?: number;   // ÐžÑ‰ÑƒÑ‰Ð°ÐµÐ¼Ð°Ñ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð°
  wind_speed?: number;   // Ð¼/Ñ
  icon?: string;         // ÐšÐ¾Ð´ Ð¸ÐºÐ¾Ð½ÐºÐ¸
}
```

## ðŸŒ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð³Ð¾Ñ€Ð¾Ð´Ð°

- **Ð Ð¾ÑÑÐ¸Ñ:** ÐœÐ¾ÑÐºÐ²Ð°, Ð¡Ð°Ð½ÐºÑ‚-ÐŸÐµÑ‚ÐµÑ€Ð±ÑƒÑ€Ð³, ÐšÐ°Ð·Ð°Ð½ÑŒ, Ð¡Ð¾Ñ‡Ð¸, Ð’Ð»Ð°Ð´Ð¸Ð²Ð¾ÑÑ‚Ð¾Ðº, +20 Ð³Ð¾Ñ€Ð¾Ð´Ð¾Ð²
- **ÐŸÑ€Ð¸Ð±Ð°Ð»Ñ‚Ð¸ÐºÐ°:** Ð Ð¸Ð³Ð°, Ð¢Ð°Ð»Ð»Ð¸Ð½, Ð’Ð¸Ð»ÑŒÐ½ÑŽÑ
- **Ð¡ÐÐ“:** ÐœÐ¸Ð½ÑÐº, ÐšÐ¸ÐµÐ², ÐÐ»Ð¼Ð°Ñ‚Ñ‹, ÐÑÑ‚Ð°Ð½Ð°
- **Ð•Ð²Ñ€Ð¾Ð¿Ð°:** Ð‘ÐµÑ€Ð»Ð¸Ð½, ÐŸÐ°Ñ€Ð¸Ð¶, Ð›Ð¾Ð½Ð´Ð¾Ð½, ÐÐ¼ÑÑ‚ÐµÑ€Ð´Ð°Ð¼, +15 Ð³Ð¾Ñ€Ð¾Ð´Ð¾Ð²
- **ÐÐ·Ð¸Ñ:** Ð¢Ð¾ÐºÐ¸Ð¾, ÐŸÐµÐºÐ¸Ð½, Ð¡Ð¸Ð½Ð³Ð°Ð¿ÑƒÑ€, Ð”ÑƒÐ±Ð°Ð¹
- **ÐÐ¼ÐµÑ€Ð¸ÐºÐ°:** ÐÑŒÑŽ-Ð™Ð¾Ñ€Ðº, Ð›Ð¾Ñ-ÐÐ½Ð´Ð¶ÐµÐ»ÐµÑ, Ð¢Ð¾Ñ€Ð¾Ð½Ñ‚Ð¾

## ðŸ“ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

ISC

## ðŸ¤ ÐšÐ¾Ð½Ñ‚Ñ€Ð¸Ð±ÑƒÑ†Ð¸Ñ

Pull requests Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ÑÑ! Ð”Ð»Ñ ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ issue.

